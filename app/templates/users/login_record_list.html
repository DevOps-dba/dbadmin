{% extends '_base_list.html' %}
{% block table_container %}
<div class="" id="content_start">
    {% block content_left_head %} {% endblock %}
    {% block table_search %}
    <form id="search_form" method="get" action="" class="form-inline">
        {% block search_form %}
        <div class="col-sm-9 pull-right" style="padding-left:0;padding-bottom: 4px;padding-right:0;">
            <div class="pull-right">
                <div class="input-group">
                    <select class="form-control input-sm m-b" style="width: auto;padding: 2px;" id="loginlist_data_length">
                        <option value="10">10</option>
                        <option value="15">15</option>
                        <option value="30">30</option>
                        <option value="100">ALL</option>
                    </select>
                </div>
                <div class="form-group form-inline">
                    <div class="input-group date form_datetime col-md-5" data-date="" data-date-format="yyyy-mm-dd hh:ii" data-link-field="dtp_input1">
                        <input class="form-control  input-sm m-b" name="loginlist_starttime" id="loginlist_starttime" size="13" type="text" placeholder = "开始时间" value="" style="width: auto;padding: 2px;" required>
                        <span class="input-group-addon" style="padding:0"><span class="glyphicon glyphicon-th" style="display:none"></span></span>
                    </div>
                    <input type="hidden" id="dtp_input1" value="" />
                    至
                    <div class="input-group date form_datetime col-md-5" data-date="" data-date-format="yyyy-mm-dd hh:ii" data-link-field="dtp_input1">
                        <input class="form-control  input-sm m-b" name="loginlist_stoptime" id="loginlist_stoptime" size="13" type="text" placeholder = "结束时间" value="" style="width: auto;padding: 2px;" required>
                        <span class="input-group-addon" style="padding:0"><span class="glyphicon glyphicon-th" style="display:none"></span></span>
                    </div>
                    <input type="hidden" id="dtp_input2" value="" />
                </div>
                <div class="input-group">
                    <input type="text" class="form-control input-sm m-b" style="width: auto;padding: 2px;" id="loginlist_username" name="loginlist_username" placeholder="用户名" value="">
                </div>
                <div class="input-group">
                    <div class="input-group-btn">
                        <a id='search_btn' type="submit" class="btn btn-sm btn-primary">
                            搜索
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endblock %}
    </form>
    {% endblock %}
</div>

<table class="table table-striped table-bordered table-hover dataTable no-footer" id="login_list_table" >
    <thead>
        <tr>
            <th class="text-center">记录ID</th>
            <th class="text-center">用户名</th>
            <th class="text-center">IP地址</th>
            <th class="text-center">Agent</th>
            <th class="text-center">登录时间</th>
        </tr>
    </thead>
    <tbody id="loginlist_dynamic">
    </tbody>
</table>
<div style='text-align:center;' id="loginlist_notfound"></div>

<div class="row m-t">
    <div class="col-md-12">
        <div id="example_loginlist" style="text-align: center" class="pull-right">
            <div id="loginlist_notes" style="text-align: center;padding-top: 8px;padding-right: 6px;" class="pull-left"></div>
            <ul id="loginlist_pageLimit" style="margin: 0 0;"></ul>
        </div>
    </div>
</div>


{% endblock %}
{% block content_bottom_left %}
<script src="{{ url_for('static', filename='js/bootstrap-paginator.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/user/login_record_list.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap-datetimepicker.min.js') }}"></script>
<script type="text/javascript">

    $.fn.datetimepicker.dates['zh-CN'] = {
            days: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日"],
            daysShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六", "周日"],
            daysMin:  ["日", "一", "二", "三", "四", "五", "六", "日"],
            months: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
            monthsShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
            today: "今天",
            suffix: [],
            meridiem: ["上午", "下午"]
    };

    $('.form_datetime').datetimepicker({
        language:  'zh-CN',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        forceParse: 0,
        showMeridian: 1
    });
    $('.form_date').datetimepicker({
        language:  'zh-CN',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0
    });
    $('.form_time').datetimepicker({
        language:  'zh-CN',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 1,
        minView: 0,
        maxView: 1,
        forceParse: 0
    });

</script>
{% endblock %}



